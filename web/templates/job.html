{% extends "base.html" %}
{% block body %}
    <h1>{{ data['name'] }}</h1>
    <h3>Scheduler: {{ data['scheduler'] }}</h3>
    <h3>Actions</h3>
    <ul>
        {% for act in data['action_names'] %}
            <li>{{act}}</li>
        {% end %}
    </ul>
    <h3>Nodes</h3>
    <ul>
        {% for node in data['node_pool'] %}
            <li>{{node}}</li>
        {% end %}
    </ul>
    <table class="jobs">
      <tr>
        <th class="jobs">ID</th>
        <th class="jobs">Node</th>
        <th class="jobs">State</th>
        <th class="jobs">Duration</th>
        <th class="jobs">Start Time</th>
        <th class="jobs">End Time</th>        
      </tr>
      {% for run in sorted(data['runs'], key=lambda r: r['run_num'], reverse=True) %}
        <tr>
          <td class="jobs"><a href='{{data['name']}}/{{ run['id'] }}'>{{ run['id'] }}</a></td>
          <td class="jobs">{{ run['node'] }}</td>
          <td class="jobs">{{ run['state'] }}</td>
          <td class="jobs">{{ run['duration'] }}</td>
          <td class="jobs">{{ run['start_time'] }}</td>
          <td class="jobs">{{ run['end_time'] }}</td>
        </tr>
      {% end %}      
    </table>

{% end %}


